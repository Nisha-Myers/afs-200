a

    Ã°Å’bÃ°  Ã£                	   @   sÃ¢   d dl mZmZmZmZ d dlZd dlZd dl mZ eeÆ’Z	ddâ€ Z
eÂ Â¡ Ze
Æ’ Z
e
d D ]@ZeÂ ed d ed d	 ed
 ed ed d
 Â¡ZeÂ eÂ¡ qZe	jddgdÂddâ€ Æ’Ze	jdddgdÂddâ€ Æ’ZedkrÃe	Â Â¡  dS )Ã©    )ÃšFlaskÃšrender_templateÃšjsonÃšjsonifyN)Ãšrequestc               
   C   sÃ¨   d} z$t j| ddÂ}|Â Â¡  |Â Â¡ }|W S  t jjyX } zt|Æ’ W Y d }~nâ€d }~0  t jjyâ€  } zt|Æ’ W Y d }~nfd }~0  t jjyÂ´ } zt|Æ’ W Y d }~n8d }~0  t jj	yÃ¢ } zt|Æ’ W Y d }~n
d }~0 0 d S )Nz,https://randomuser.me/api/?results=25&nat=usÃ©   )Ãštimeout)
ÃšrequestsÃšgetZraise_for_statusr   Ãš
exceptionsÃš	HTTPErrorÃšprintÃšConnectionErrorZTimeoutZRequestException)ÃšURLÃšresponseÃšdataZerrhZerrcZerrtÃšerrÂ© r   ÃºMc:\users\kyle\desktop\school\classes\afs-200\afs-200\week5\addressbook\app.pyÃšgetData	   s    r   ÃšresultsÃšnameÃšfirstÃšlastÃšemailZphoneZpictureZmediumÃº/ÃšGET)Ãšmethodsc                   C   s   t dtÂ Â¡ dÂS )NÃº
index.htmlÂ©Z	addresses)r   Ãš
myAddressBookZgetAllAddressesr   r   r   r   ÃšrawData%   s    r!   z/searchÃšPOSTc                  C   s(   t jdkrt jÂ dÂ¡} tdtÂ | Â¡dÂS )Nr"   Ãšsearchr   r   )r   ÃšmethodÃšformr
   r   r    ZfindAllMatching)Z	searchStrr   r   r   r#   ,   s    
r#   Ãš__main__)Zflaskr   r   r   r   r	   Ãšaddressbookr   Ãš__name__Ãšappr   ZAddressBookr    ZjsonAddressDataZcontactsZContactZnewContactsZ
addAddressÃšrouter!   r#   Ãšrunr   r   r   r   Ãš<module>   s*   

Ã¼

